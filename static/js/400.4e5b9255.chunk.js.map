{"version":3,"file":"static/js/400.4e5b9255.chunk.js","mappings":"8PACA,EAA4B,0BAA5B,EAA6D,qBAA7D,EAAyF,qBAAzF,EAAsH,sBAAtH,EAAoJ,sBAApJ,EAAgL,oBAAhL,EAA4M,sBAA5M,EAA0O,sBAA1O,EAAuQ,qB,SCoFvQ,EAhFe,WAAO,IAAD,EACnB,GAA4BA,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,MACXC,EAAY,UAAGJ,EAAaK,IAAI,gBAApB,QAAgC,GAM5CC,EAAY,mCAAG,WAAMC,GAAN,2FAEjBA,EAAEC,iBACIJ,EAHW,UAGIJ,EAAaK,IAAI,gBAHrB,QAGiC,GAHjC,UAIMI,EAAAA,EAAAA,IAAgBL,GAJtB,OAIXM,EAJW,OAKjBZ,EAAUY,GALO,gDAOjBC,QAAQC,MAAM,uOAAd,MAPiB,yDAAH,sDAyBlB,OAdAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAW,mCAAG,8GAEOL,EAAAA,EAAAA,IAAgBL,GAFvB,OAEVM,EAFU,OAGhBZ,EAAUY,GAHM,gDAKhBC,QAAQC,MAAM,uOAAd,MALgB,yDAAH,qDASjBE,GAED,GAAE,KAGD,SAAC,EAAAC,SAAD,WACE,iBAAKC,UAAWC,EAAhB,WACE,iBAAMC,SAAUZ,EAAhB,UACE,mBAAOU,UAAWC,EAAlB,WACE,kBACED,UAAWC,EACXE,KAAK,OACLC,SArCS,SAAAb,GACnBN,EAAgB,CAAEoB,MAAOd,EAAEe,OAAOC,OACnC,EAoCWA,MAAOnB,KAET,mBAAQY,UAAWC,EAAnB,wBAIJ,eAAID,UAAWC,EAAf,SACGpB,GACCA,EAAO2B,KAAI,SAAAC,GACT,OACE,eAAIT,UAAWC,EAAf,UACE,UAAC,KAAD,CACED,UAAWC,EACXS,GAAE,kBAAaD,EAAIE,IACnBC,MAAO1B,EAHT,WAKE,cAAGc,UAAWC,EAAd,SAA2BQ,EAAII,SAC/B,gBACEb,UAAWC,EACXa,IACEL,EAAIM,YAAJ,yCACsCN,EAAIM,aACtC,mCAENC,IAAKP,EAAIQ,qBAdgBR,EAAIE,GAmBtC,UAKZ,C","sources":["webpack://react-homework-template/./src/pages/movies/movies.module.scss?f842","pages/movies/movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"movies_container__RBSXn\",\"list\":\"movies_list__t8Ote\",\"item\":\"movies_item__PolkG\",\"image\":\"movies_image__fjiz0\",\"input\":\"movies_input__AA+j3\",\"btn\":\"movies_btn__-gZOR\",\"label\":\"movies_label__U5CAk\",\"title\":\"movies_title__lEJLK\",\"link\":\"movies_link__zuE7x\"};","import { useState, useEffect, Suspense } from 'react';\nimport { requestMovieApi } from 'services/fetch';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport scss from './movies.module.scss';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n  const queryRequest = searchParams.get('query') ?? '';\n\n  const handleChange = e => {\n    setSearchParams({ query: e.target.value });\n  };\n\n  const handleSubmit = async e => {\n    try {\n      e.preventDefault();\n      const queryRequest = searchParams.get('query') ?? '';\n      const response = await requestMovieApi(queryRequest);\n      setMovies(response);\n    } catch (error) {\n      console.error('Під час завантаження даних сталася помилка:', error);\n    }\n  };\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      try {\n        const response = await requestMovieApi(queryRequest);\n        setMovies(response);\n      } catch (error) {\n        console.error('Під час завантаження даних сталася помилка:', error);\n      }\n    };\n\n    fetchMovies();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <Suspense>\n      <div className={scss.container}>\n        <form onSubmit={handleSubmit}>\n          <label className={scss.label}>\n            <input\n              className={scss.input}\n              type=\"text\"\n              onChange={handleChange}\n              value={queryRequest}\n            />\n            <button className={scss.btn}>SEND</button>\n          </label>\n        </form>\n\n        <ul className={scss.list}>\n          {movies &&\n            movies.map(mov => {\n              return (\n                <li className={scss.item} key={mov.id}>\n                  <Link\n                    className={scss.link}\n                    to={`/movies/${mov.id}`}\n                    state={location}\n                  >\n                    <p className={scss.title}>{mov.title}</p>\n                    <img\n                      className={scss.image}\n                      src={\n                        mov.poster_path\n                          ? `https://image.tmdb.org/t/p/w500${mov.poster_path}`\n                          : '../../images/boy-5402743_640.jpg'\n                      }\n                      alt={mov.original_title}\n                    />\n                  </Link>\n                </li>\n              );\n            })}\n        </ul>\n      </div>\n    </Suspense>\n  );\n};\n\nexport default Movies;\n"],"names":["useState","movies","setMovies","useSearchParams","searchParams","setSearchParams","location","useLocation","queryRequest","get","handleSubmit","e","preventDefault","requestMovieApi","response","console","error","useEffect","fetchMovies","Suspense","className","scss","onSubmit","type","onChange","query","target","value","map","mov","to","id","state","title","src","poster_path","alt","original_title"],"sourceRoot":""}